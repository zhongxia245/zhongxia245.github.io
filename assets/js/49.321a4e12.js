(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{184:function(t,r,e){"use strict";e.r(r);var v=e(0),a=Object(v.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("TCP“三次握手” 这个问题的本质是, 信道不可靠, 但是通信双发需要就某个问题达成一致. 而要解决这个问题, 无论你在消息中包含什么信息, "),e("strong",[t._v("三次通信是理论上的最小值. 所以三次握手不是 TCP 本身的要求,")]),t._v(' 而是为了满足"'),e("strong",[t._v("在不可靠信道上可靠地传输信息")]),t._v('"这一需求所导致的. 请注意这里的本质需求,信道不可靠, 数据传输要可靠. 三次达到了, 那后面你想接着握手也好, 发数据也好, 跟进行可靠信息传输的需求就没关系了. 因此,'),e("strong",[t._v("如果信道是可靠的, 即无论什么时候发出消息, 对方一定能收到, 或者你不关心是否要保证对方收到你的消息, 那就能像 UDP 那样直接发送消息就可以了.")]),t._v("”。这可视为对“三次握手”目的的另一种解答思路。")]),t._v(" "),e("blockquote",[e("p",[t._v("后面一段话意思就是如果想确定双通道通畅，必须使用三个包的发送接收，也就是三次握手")])]),t._v(" "),e("blockquote",[e("p",[t._v("这段话指出了为什么要三次握手，【就是要 解决"),e("font",{attrs:{color:"#b74040"}},[e("strong",[e("em",[t._v("在不可靠信道上可靠的传输信息")])])]),t._v("】")],1)]),t._v(" "),e("h2",{attrs:{id:"一、通俗解释"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、通俗解释"}},[t._v("#")]),t._v(" 一、通俗解释")]),t._v(" "),e("p",[t._v("三次握手流程的本质，可以这么理解：TCP 的三次握手其实是双方各一次握手，各一次确认，只是其中一次握手和确认合并在一起。")]),t._v(" "),e("p",[t._v("当然也可以更通俗的去理解：")]),t._v(" "),e("p",[t._v("“喂，你听得到吗？”\n“我听得到呀，你听得到我吗？”\n“我能听到你”")]),t._v(" "),e("h2",{attrs:{id:"二、三次握手流程图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、三次握手流程图"}},[t._v("#")]),t._v(" 二、三次握手流程图")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://ws3.sinaimg.cn/large/006tKfTcly1floczymys9j30fm0bdaan.jpg",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"三、简单说下-syn-攻击"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、简单说下-syn-攻击"}},[t._v("#")]),t._v(" 三、简单说下 SYN 攻击")]),t._v(" "),e("p",[t._v("在三次握手过程中，Server 发送 SYN-ACK 之后，收到 Client 的 ACK 之前的 TCP 连接称为半连接（half-open connect），此时 Server 处于 SYN_RCVD 状态，当收到 ACK 后，Server 转入 ESTABLISHED 状态。SYN 攻击就是 Client 在短时间内伪造大量不存在的 IP 地址，并向 Server 不断地发送 SYN 包，Server 回复确认包，并等待 Client 的确认，由于源地址是不存在的，因此，Server 需要不断重发直至超时，这些伪造的 SYN 包将产时间占用未连接队列，导致正常的 SYN 请求因为队列满而被丢弃，从而引起网络堵塞甚至系统瘫痪。SYN 攻击时一种典型的 DDOS 攻击，检测 SYN 攻击的方式非常简单，即当 Server 上有大量半连接状态且源 IP 地址是随机的，则可以断定遭到 SYN 攻击了")]),t._v(" "),e("blockquote",[e("p",[t._v("整理一下：")])]),t._v(" "),e("ol",[e("li",[t._v("SYN 攻击是一种 典型的 DDOS 攻击")]),t._v(" "),e("li",[t._v("SYN 攻击发生在三次握手的第二次（Server 回复 大量伪造 Client 的确定包，超时导致）")]),t._v(" "),e("li",[t._v("Server 上有大量半连接状态且 IP 地址是随机的，可以断定遇到 SYN 攻击")])]),t._v(" "),e("h2",{attrs:{id:"四、来源文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、来源文章"}},[t._v("#")]),t._v(" 四、来源文章")]),t._v(" "),e("p",[e("a",{attrs:{href:"http://mp.weixin.qq.com/s/B2ZRYbLIGlqsOBMjy5PY3g",target:"_blank",rel:"noopener noreferrer"}},[t._v("《通俗理解 TCP 的三次握手》"),e("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=a.exports}}]);