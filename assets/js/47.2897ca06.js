(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{182:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("Hexo 有很多留言板的第三方插件（多说、disqus、Gitment、Gitalk 等等），但是这里主要讲解怎么使用 Gitalk， 因为它比较好看，移动端支持友好(Gitment 移动端稍微差点)。")]),t._v(" "),a("h2",{attrs:{id:"零、总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#零、总结"}},[t._v("#")]),t._v(" 零、总结")]),t._v(" "),a("p",[t._v("整理一下使用 Gitalk 的步骤，可以大概分为一下几步：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("申请 GitHub 帐号，创建 GitHub Application 应用, 拿到应用的 "),a("code",[t._v("clientID")]),t._v(" "),a("code",[t._v("clientSecret")]),t._v(" "),a("em",[a("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("《来，点这里》"),a("OutboundLink")],1)])])]),t._v(" "),a("li",[a("p",[t._v("引入 gitalk 的代码")])]),t._v(" "),a("li",[a("p",[t._v("配置 gitalk 的参数")])]),t._v(" "),a("li",[a("p",[t._v("搞定~")])])]),t._v(" "),a("h2",{attrs:{id:"一、一步一步来，不要急"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、一步一步来，不要急"}},[t._v("#")]),t._v(" 一、一步一步来，不要急")]),t._v(" "),a("h3",{attrs:{id:"_1-1-申请-github-帐号，创建-github-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-申请-github-帐号，创建-github-application"}},[t._v("#")]),t._v(" 1.1 申请 GitHub 帐号，创建 GitHub Application")]),t._v(" "),a("p",[t._v("目的就一个，拿到 "),a("code",[t._v("clientID")]),t._v(" "),a("code",[t._v("clientSecret")]),t._v(", 说白了就是有权限去操作的 Git 仓库，给你创建 Issue 来放留言内容，"),a("em",[a("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("《来，点这里》"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("大概这样\n"),a("img",{attrs:{src:"https://i.loli.net/2018/11/18/5bf0585749e7f.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("注意事项： "),a("code",[t._v("authorization callback URL")]),t._v(" 需要填写你部署上线后，博客的地址\n作用：创建完成后拿到的密钥，只有在这个域名下才能用\n"),a("code",[t._v("其他参数随便")])])]),t._v(" "),a("p",[t._v("创建好了后,红色的就是后面需要的.")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2018/11/18/5bf0549e0d317.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"_1-2-引入-gitalk-的代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-引入-gitalk-的代码"}},[t._v("#")]),t._v(" 1.2 引入 gitalk 的代码")]),t._v(" "),a("p",[t._v("引入 Gitalk 的代码有很多种方式，最终只要保证这段代码在你的页面中即可。")]),t._v(" "),a("p",[t._v("这里讲常规用法。")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("themes/[theme_name]/layout/_script/_comments/")]),t._v(" 目录下，创建"),a("code",[t._v("gitalk.swig")]),t._v("文件。")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- gitalk.swig --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.bootcss.com/gitalk/1.4.0/gitalk.min.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.bootcss.com/gitalk/1.4.0/gitalk.min.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/javascript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gitalk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Gitalk")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    clientID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.ClientID }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    clientSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.ClientSecret }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    repo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.repo }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    owner"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.owner }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    admin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.adminUser }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("md5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISSUE：location.href 限制50个字符 (应该是Issue 内容存数据库的标识， 具体在页面上无感)")]),t._v("\n    labels"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.labels }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("l")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要的 labels需要一个数组，否则会报错")]),t._v("\n    perPage"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("perPage "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    pagerDirection"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.pagerDirection }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    createIssueManually"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("createIssueManually "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    distractionFreeMode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" theme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distractionFreeMode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  gitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitalk-container'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("p",[t._v("把 "),a("code",[t._v("gitalk.swig")]),t._v(" 引用进来。")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- themes/[theme_name]/layout/_script/comments.swig --\x3e")]),t._v("\n{% include '_comments/gitalk.swig' %}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("blockquote",[a("p",[t._v("这里不同的主题可能不太一样，如果没有找到这个 "),a("code",[t._v("comments.swig")]),t._v(" ， 可以直接放到"),a("code",[t._v("themes/polarbear/layout/_layout.swig")]),t._v(" 的 "),a("code",[t._v("body 结束标签前")])])]),t._v(" "),a("blockquote",[a("p",[t._v("代码里面的一些参数，在下面在统一说下作用。")])]),t._v(" "),a("h3",{attrs:{id:"_1-3-添加配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-添加配置"}},[t._v("#")]),t._v(" 1.3 添加配置")]),t._v(" "),a("p",[t._v("上面用到很多参数，这些参数正常来说，放到 _config.yaml 里面配置比较好， 后续修改，则不需要去改代码。")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# theme/[theme_name]/_config.yaml 添加配置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ===========================================")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Comments Settings")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ===========================================")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitalk")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否启动")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ClientID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Your ClientID "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 之前的Client ID")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ClientSecret")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Your ClientSecret "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 之前的Client Secret")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blog_comments "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 留言板内容需要存放的仓库名称")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("owner")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zhongxia245 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 你 github 的帐号 eg: www.github.com/zhongxia245 ,帐号就是245")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("adminUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zhongxia245 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 管理员用户")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# issue 的标签")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" gitalk\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("perPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15 ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每页展示条数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pagerDirection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" last "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 排序方式是从旧到新（first）还是从新到旧（last）")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("createIssueManually")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#如果当前页面没有相应的 isssue ，且登录的用户属于 admin，则会自动创建 issue。如果设置为 true，则显示一个初始化页面，创建 issue 需要点击 init 按钮。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("distractionFreeMode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#是否启用快捷键(cmd|ctrl + enter) 提交评论.")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h3",{attrs:{id:"_1-4-部署上线，感受下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-部署上线，感受下"}},[t._v("#")]),t._v(" 1.4 部署上线，感受下")]),t._v(" "),a("p",[t._v("到这里就搞定了。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2018/11/18/5bf05c9c5bd46.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"三、可能遇见的坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、可能遇见的坑"}},[t._v("#")]),t._v(" 三、可能遇见的坑")]),t._v(" "),a("p",[t._v("如果顺利的话，你可能就不需要看这个了，因为下面的这两个问题，在上面的的代码和配置中已经给解决了。")]),t._v(" "),a("p",[a("a",{attrs:{href:"#comments"}},[a("em",[t._v("如果真的不行，那么请留言交流")])])]),t._v(" "),a("h3",{attrs:{id:"_1-id-字段太长，导致-初始化留言板的时候-validation-failed-422-错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-id-字段太长，导致-初始化留言板的时候-validation-failed-422-错误"}},[t._v("#")]),t._v(" 1. id 字段太长，导致 初始化留言板的时候 "),a("code",[t._v("Validation Failed(422)")]),t._v(" 错误")]),t._v(" "),a("p",[t._v("HTTP 编码为 422，大家应该都已经知道了这个问题的原因：文章的 URL 过长，生成 issue 时超过了 label 的长度限制")]),t._v(" "),a("p",[t._v("因此引入 Md5，对 id 的值进行一个加密，然后就控制在 50 个字符内。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("md5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-error-i-concat-o-join-is-not-a-function-in-i-concat-o-join-i-concat-o-join-is-undefined"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-error-i-concat-o-join-is-not-a-function-in-i-concat-o-join-i-concat-o-join-is-undefined"}},[t._v("#")]),t._v(" 2. Error: i.concat(o).join is not a function. (In 'i.concat(o).join(\",\")', 'i.concat(o).join' is undefined)")]),t._v(" "),a("p",[t._v("这个应该是模板渲染的时候， 加上引号导致 labels 变成一个字符串， 然后没有 concat 功能")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n labels"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{{ theme.gitalk.labels }}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("l")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要的 labels需要一个数组，否则会报错")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"终、参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#终、参考文章"}},[t._v("#")]),t._v(" 终、参考文章")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://iochen.com/2018/01/06/use-gitalk-in-hexo/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Hexo 中 Gitalk 配置使用教程-可能是目前最详细的教程》"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://priesttomb.github.io/%E6%97%A5%E5%B8%B8/2018/02/12/%E5%A4%84%E7%90%86Gitalk%E4%B8%AD%E7%94%B1%E4%BA%8E%E6%96%87%E7%AB%A0URL%E8%BF%87%E9%95%BF%E5%AF%BC%E8%87%B4%E7%9A%84Validation-Failed(422)/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《处理 Gitalk 中由于文章 URL 过长导致的 Validation Failed(422)》"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);