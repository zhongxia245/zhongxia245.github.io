(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{150:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("这是一个使用 "),t("a",{attrs:{href:"https://www.gatsbyjs.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("Gatsby"),t("OutboundLink")],1),s._v(" 来构建的 Blog 站点。")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("Gatsby")]),s._v("来部署页面，主要是因为感觉这个页面特别的简洁，看起来很舒服，因此就用这个了。")]),s._v(" "),t("h2",{attrs:{id:"一、如何使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、如何使用"}},[s._v("#")]),s._v(" 一、如何使用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g gatsby\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 官方提供的一个 Blog 模板")]),s._v("\ngatsby new gatsby-blog https://github.com/gatsbyjs/gatsby-starter-blog\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" gatsby-blog\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动项目")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建项目")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("blockquote",[t("p",[s._v("在 "),t("code",[s._v("content/blog/")]),s._v(" 添加 "),t("code",[s._v("markdown")]),s._v(" 文件，即可完成文章的添加。")])]),s._v(" "),t("h2",{attrs:{id:"二、如何使用-github-pages-部署-blog"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、如何使用-github-pages-部署-blog"}},[s._v("#")]),s._v(" 二、如何使用 Github Pages 部署 Blog")]),s._v(" "),t("p",[s._v("既然 Blog 已经搭建好啦，那么应该部署到服务器，通过域名去访问，才算是一个完整 Blog 。")]),s._v(" "),t("p",[s._v("Github 提供了一个 Github Pages 的功能，支持你部署一个静态的 web 站点，并且给一个二级域名。我们可以通过这种方式来部署，省下自己搭建服务器的麻烦。")]),s._v(" "),t("p",[s._v("具体如何部署，请看这篇文章"),t("RouterLink",{attrs:{to:"/github-pages/"}},[s._v("《使用 Github Pages 部署 Blog 站点》")])],1),s._v(" "),t("h2",{attrs:{id:"三、利用-github-管理-源代码和构建出的资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、利用-github-管理-源代码和构建出的资源"}},[s._v("#")]),s._v(" 三、利用 Github 管理 源代码和构建出的资源")]),s._v(" "),t("p",[s._v("部署 Blog 站点 的时候，只需要使用到 构建出来的 "),t("code",[s._v("public")]),s._v(" 目录， 不需要使用源代码。 但是把源代码直接丢在本地，这样也不太好 (万一不小心删除了，换电脑了岂不麻烦)。")]),s._v(" "),t("p",[t("strong",[s._v("Github Pages 部署需要使用到 master 分支。")])]),s._v(" "),t("p",[s._v("因此我们可以把构建出来的静态资源上传到 master 分支，然后把源代码上传到 "),t("code",[s._v("source")]),s._v(" 分支。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 利用 gh-pages 来上传构建的文件到指定分支")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -D gh-pages\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# package.json 的 scripts 添加 deploy 命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个命令可以会把构建出来的文件，上传到 master 分支")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deploy"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gatsby clean && gatsby build --prefix-paths && gh-pages -b master -d public"')]),s._v(",\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 部署上线")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run deploy\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 常规操作上传源代码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" co -b "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" master\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -am "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'upload xxx  code'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);